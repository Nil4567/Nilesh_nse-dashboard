// Simulated fetch function - replace with your real API call
function fetchDashboardData() {
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve({
        totalAmount: 12000.50,
        advancePaid: 5000.00,
        pendingReceived: 2000.00,
        totalReceived: 7000.50,
        pendingBalance: 5000.00
      });
    }, 500); // simulate API delay
  });
}

// Update dashboard values
async function updateDashboard() {
  const btn = document.getElementById("refreshBtn");
  btn.disabled = true;
  btn.textContent = "Refreshing...";

  try {
    const data = await fetchDashboardData();

    document.getElementById("totalAmount").textContent = "₹" + data.totalAmount.toFixed(2);
    document.getElementById("advancePaid").textContent = "₹" + data.advancePaid.toFixed(2);
    document.getElementById("pendingReceived").textContent = "₹" + data.pendingReceived.toFixed(2);
    document.getElementById("totalReceived").textContent = "₹" + data.totalReceived.toFixed(2);
    document.getElementById("pendingBalance").textContent = "₹" + data.pendingBalance.toFixed(2);

  } catch (err) {
    alert("Failed to fetch data.");
    console.error(err);
  } finally {
    btn.disabled = false;
    btn.textContent = "Refresh Data";
  }
}

// Refresh button click
document.getElementById("refreshBtn").addEventListener("click", updateDashboard);

// Optional: Add share button functionality (dummy)
document.querySelectorAll(".share-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    alert("Share feature coming soon!");
  });
});
